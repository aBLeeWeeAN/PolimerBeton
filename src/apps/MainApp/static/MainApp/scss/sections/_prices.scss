/**========================================================================
 **                            PRICES
 *========================================================================**/

#Prices {
    // margin: 10rem 0 10rem 0;

    & strong {
        @extend .subheading;
    }

    $current-price-text-font-size: 1.5rem;

    $my-current-price-block-size: 14rem;

    $my-ball-size: 14rem;

    // $my-orbit-radius: 25rem;
    --my-orbit-radius: 25rem;

    $my-current-price-block-margin: my-orbit-animation-calculate-margin(var(--my-orbit-radius), $my-current-price-block-size) 0;

    // Применение начальных стилей
    @include prices-block-apply-styles($my-current-price-block-size, $my-ball-size, var(--my-orbit-radius), $current-price-text-font-size);

    .current-price-animation-container {
        position: relative;

        width: auto;
        height: calc(var(--my-orbit-radius) * 2);
        // margin-top: 5rem;

        --animation-duration: 10s;

        .current-price {
            position: relative;

            // margin: $my-current-price-block-margin 0 $my-current-price-block-margin 0;

            // width: $my-current-price-block-size;
            // height: $my-current-price-block-size;

            .current-price-figure-animation-wrapper {
                will-change: transform;

                width: 100%;
                height: 100%;

                transform: scale(1.25);
                animation: scale-animation calc(0.6s * var(--animation-duration)) ease-in-out infinite alternate;

                @media (prefers-reduced-motion: reduce) {
                    animation: none !important;
                }

                @keyframes scale-animation {
                    0% {
                        transform: scale(1.25);
                    }

                    50% {
                        transform: scale(0.9);
                    }

                    100% {
                        transform: scale(1.25);
                    }
                }

                .current-price-figure {
                    @include transition-all(fill);
                    will-change: fill, transform;

                    width: 100%;
                    height: 100%;

                    fill: var(--prices--price-block-bc-color);

                    transform: rotate(0deg);
                    animation: rotate-counter-clockwise var(--animation-duration) infinite linear;

                    @media (prefers-reduced-motion: reduce) {
                        animation: none !important;
                    }

                    @keyframes rotate-counter-clockwise {
                        from {
                            transform: rotate(0deg);
                        }

                        to {
                            transform: rotate(-360deg);
                        }
                    }
                }
            }

            .current-price-text {
                @include transition-all(color);
                will-change: color, transform;

                z-index: 1;

                position: absolute;

                top: 50%;
                left: 50%;

                // transform: translate(-47.5%, -52.5%) rotate(-21deg);

                margin: 0 auto;

                font-family: "Montserrat", sans-serif;
                font-optical-sizing: auto;
                font-weight: 600;
                font-style: normal;

                // font-size: 3rem;
                letter-spacing: 0.2em;
                text-align: center;

                color: var(--text-color-alt-100);

                text-transform: none;

                font-variant-numeric: lining-nums;

                transform: translate(-47.5%, -52.5%) rotate(-21deg);
                transform-origin: center;

                animation: wobble var(--animation-duration) infinite;

                @media (prefers-reduced-motion: reduce) {
                    animation: none !important;
                }

                @keyframes wobble {
                    0% {
                        transform: translate(-47.5%, -52.5%) rotate(-21deg) rotate(-8deg);
                    }

                    50% {
                        transform: translate(-47.5%, -52.5%) rotate(-21deg) rotate(8deg);
                    }

                    100% {
                        transform: translate(-47.5%, -52.5%) rotate(-21deg) rotate(-8deg);
                    }
                }
            }
        }

        .concrete-image-orbit-animation-wrapper {
            --start: 0deg; /* для каждого шара своя */

            z-index: -1;
            position: absolute;
            padding: 0;

            top: 0;
            left: 50%;

            transform: translateX(-50%) rotate(var(--start));
            transform-origin: bottom center;

            will-change: transform;
            animation: rotate-clockwise var(--animation-duration) infinite linear;

            @media (prefers-reduced-motion: reduce) {
                animation: none !important;
            }

            img {
                position: absolute;

                width: 100%;
                height: auto;

                top: 0;
                left: 50%;

                transform: translateX(-50%) rotate(calc(-1 * var(--start)));

                will-change: transform;
                animation: rotate-counter var(--animation-duration) infinite linear;

                @media (prefers-reduced-motion: reduce) {
                    animation: none !important;
                }
            }
        }

        /* Общие анимации */
        @keyframes rotate-clockwise {
            from {
                transform: translateX(-50%) rotate(var(--start));
            }
            to {
                transform: translateX(-50%) rotate(calc(var(--start) + 360deg));
            }
        }

        @keyframes rotate-counter {
            from {
                transform: translateX(-50%) rotate(calc(-1 * var(--start)));
            }
            to {
                transform: translateX(-50%) rotate(calc(-1 * var(--start) - 360deg));
            }
        }

        #ball-green {
            --start: 0deg;
        }

        #ball-yellow {
            --start: 72deg;
        }

        #ball-white {
            --start: 144deg;
        }

        #ball-grey {
            --start: 216deg;
        }

        #ball-red {
            --start: 288deg;
        }
    }

    // Медиа-запросы
    // @include media-breakpoint-down(xl) {
    //     $current-price-text-font-size: 2.5rem;

    //     $my-current-price-block-size: 17.5rem;

    //     $my-ball-size: 17.5rem;
    //     $my-orbit-radius: 32rem;

    //     @include prices-block-apply-styles($my-current-price-block-size, $my-ball-size, $my-orbit-radius, $current-price-text-font-size);
    // }

    // @include media-breakpoint-down(lg) {
    //     $current-price-text-font-size: 2rem;

    //     $my-current-price-block-size: 15rem;

    //     $my-ball-size: 12rem;
    //     $my-orbit-radius: 22.5rem;

    //     @include prices-block-apply-styles($my-current-price-block-size, $my-ball-size, $my-orbit-radius, $current-price-text-font-size);
    // }

    @include media-breakpoint-down(md) {
        $current-price-text-font-size: 1.5rem;

        $my-current-price-block-size: 11rem;

        $my-ball-size: 11rem;

        // $my-orbit-radius: 20rem;
        --my-orbit-radius: 20rem;

        @include prices-block-apply-styles(
            $my-current-price-block-size,
            $my-ball-size,
            var(--my-orbit-radius),
            $current-price-text-font-size
        );
    }

    @include media-breakpoint-down(sm) {
        $current-price-text-font-size: 1.15rem;

        $my-current-price-block-size: 8rem;

        $my-ball-size: 8rem;

        // $my-orbit-radius: 13rem;
        --my-orbit-radius: 13rem;

        @include prices-block-apply-styles(
            $my-current-price-block-size,
            $my-ball-size,
            var(--my-orbit-radius),
            $current-price-text-font-size
        );
    }
}
